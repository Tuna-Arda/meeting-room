{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{createRoom,getRoomById,updateRoom}from\"../services/apiService\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function RoomForm(){const[name,setName]=useState(\"\");const[capacity,setCapacity]=useState(\"\");const[equipment,setEquipment]=useState(\"\");const{id}=useParams();const navigate=useNavigate();useEffect(()=>{if(id){// Raum laden, wenn wir im \"Edit\"-Modus sind\ngetRoomById(id).then(room=>{setName(room.name);setCapacity(room.capacity);setEquipment((room.equipment||[]).join(\", \"));}).catch(err=>console.error(err));}},[id]);function handleSubmit(e){e.preventDefault();if(!name.trim()){alert(\"Raumname darf nicht leer sein!\");return;}const newRoom={name:name.trim(),capacity:Number(capacity),equipment:equipment.split(\",\").map(e=>e.trim())};if(id){// Update\nupdateRoom(id,newRoom).then(()=>navigate(\"/rooms\")).catch(err=>console.error(err));}else{// Create\ncreateRoom(newRoom).then(()=>navigate(\"/rooms\")).catch(err=>console.error(err));}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:id?\"Raum bearbeiten\":\"Neuen Raum anlegen\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Raumname:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Kapazit\\xE4t:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:capacity,onChange:e=>setCapacity(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Ausstattung (Komma-getrennt):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:equipment,onChange:e=>setEquipment(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Speichern\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","createRoom","getRoomById","updateRoom","jsx","_jsx","jsxs","_jsxs","RoomForm","name","setName","capacity","setCapacity","equipment","setEquipment","id","navigate","then","room","join","catch","err","console","error","handleSubmit","e","preventDefault","trim","alert","newRoom","Number","split","map","children","onSubmit","type","value","onChange","target"],"sources":["C:/Users/erzincansivas/Documents/Intensivwoche2/Frontend/src/pages/RoomForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { createRoom, getRoomById, updateRoom } from \"../services/apiService\";\n\nexport default function RoomForm() {\n  const [name, setName] = useState(\"\");\n  const [capacity, setCapacity] = useState(\"\");\n  const [equipment, setEquipment] = useState(\"\");\n  const { id } = useParams();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (id) {\n      // Raum laden, wenn wir im \"Edit\"-Modus sind\n      getRoomById(id)\n        .then(room => {\n          setName(room.name);\n          setCapacity(room.capacity);\n          setEquipment((room.equipment || []).join(\", \"));\n        })\n        .catch(err => console.error(err));\n    }\n  }, [id]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!name.trim()) {\n      alert(\"Raumname darf nicht leer sein!\");\n      return;\n    }\n\n    const newRoom = {\n      name: name.trim(),\n      capacity: Number(capacity),\n      equipment: equipment.split(\",\").map(e => e.trim())\n    };\n\n    if (id) {\n      // Update\n      updateRoom(id, newRoom)\n        .then(() => navigate(\"/rooms\"))\n        .catch(err => console.error(err));\n    } else {\n      // Create\n      createRoom(newRoom)\n        .then(() => navigate(\"/rooms\"))\n        .catch(err => console.error(err));\n    }\n  }\n\n  return (\n    <div>\n      <h2>{id ? \"Raum bearbeiten\" : \"Neuen Raum anlegen\"}</h2>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>Raumname:</label>\n          <input\n            type=\"text\"\n            value={name}\n            onChange={e => setName(e.target.value)}\n          />\n        </div>\n\n        <div>\n          <label>Kapazit√§t:</label>\n          <input\n            type=\"number\"\n            value={capacity}\n            onChange={e => setCapacity(e.target.value)}\n          />\n        </div>\n\n        <div>\n          <label>Ausstattung (Komma-getrennt):</label>\n          <input\n            type=\"text\"\n            value={equipment}\n            onChange={e => setEquipment(e.target.value)}\n          />\n        </div>\n\n        <button type=\"submit\">Speichern</button>\n      </form>\n    </div>\n  );\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}